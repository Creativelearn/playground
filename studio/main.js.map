{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"Studio.libraries['react']\"","webpack:///external \"Studio\"","webpack:///./studio/login.js","webpack:///./studio/styles.css","webpack:///./studio/WorkspacesList.js","webpack:///./studio/main_dev.js","webpack:///./studio/Startup.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./studio/DeleteWorkspaceModal.js","webpack:///./studio/ToolbarSaveForkButton.js","webpack:///./studio/LogoutButton.js","webpack:///./studio/AboutModal.js","webpack:///external \"Studio.libraries['prop-types']\"","webpack:///./studio/LoginModal.js","webpack:///./studio/SaveModal.js","webpack:///./studio/ShareModal.js","webpack:///./studio/RenameModal.js","webpack:///./studio/playground.js","webpack:///./studio/UserEditor.js","webpack:///./studio/utils.js"],"names":["props","onClick","href","window","location","color","marginRight","cursor","WorkspacesList","state","initialState","tryHide","bind","items","mounted","addEventListener","removeEventListener","e","entity","preventDefault","setState","contextMenuId","_id","ev","stopPropagation","fetch","fetchRequested","response","Studio","api","get","url","u","openTab","key","editorComponentKey","title","fullName","user","w","onRemove","styles","contextMenuContainer","contextMenu","contextButton","editable","isOwner","playground","userId","open","description","name","renderContextMenu","openUser","modificationDate","toLocaleDateString","views","workspacesTable","map","i","renderItem","Component","setAboutModal","AboutModal","locationResolver","current","__isInitial","username","shortid","toolbarVisibilityResolver","text","isEmbed","shouldOpenStartupPage","addEditorComponent","Startup","UserEditor","initializeListeners","push","init","addToolbarComponent","LogoutButton","openModal","LoginModal","save","canEdit","SaveModal","readyListeners","getAllEntities","some","__isDirty","backgroundColor","float","RenameModal","display","fontSize","ShareModal","split","collapseLeftPane","default","entities","defaultEntity","find","collapseEntity","parents","self","tab","searchTerm","handleSearchChange","examplesRef","React","createRef","popularRef","myRef","searchRef","reloadTab","DeleteWorkspaceModal","workspace","startupReload","prevProps","prevState","ref","onTabActive","handleRemove","renderForUser","renderForAnonym","searchBox","target","value","encodeURIComponent","renderPinnedExamples","renderUserWorkspaces","renderPopularWorkspaces","renderSearch","newBox","create","tabs","selectedTab","overflow","renderTab","cancelRef","setTimeout","focus","options","close","remove","cancel","isMac","navigator","platform","toUpperCase","indexOf","ToolbarSaveForkButton","handleShortcut","ctrlKey","which","metaKey","enabled","logoutRef","click","resolveUrl","logo","version","extensions","playgroundVersion","width","height","marginBottom","marginLeft","propTypes","PropTypes","object","isRequired","marginTop","padding","code","nameRef","descriptionRef","event","change","concat","filter","__entitySet","updateTitle","workspaceName","document","lock","store","dispatch","actions","flushUpdates","isNewWorkspace","shouldInvokeSave","__isLoaded","prune","post","data","editor","updateHistory","saveAll","reset","openNewModal","wid","del","workspacesRef","getQueryParameter","removeFacebookQuery","trim","match","RegExp","exec","search","decodeURIComponent","replace","hash","history","replaceState","str","length","substring"],"mappings":"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AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACxXA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;;;;ACnBA;;;;AACA;;;;;;;;;;;;IAEMyC,oB;;;AACJ,gCAAanH,KAAb,EAAoB;AAAA;;AAAA,4IACZA,KADY;;AAGlB,UAAK2I,SAAL,GAAiB9B,gBAAMC,SAAN,EAAjB;AAHkB;AAInB;;;;wCAEoB;AAAA;;AACnB8B,iBAAW;AAAA,eAAM,OAAKD,SAAL,CAAe1E,OAAf,IAA0B,OAAK0E,SAAL,CAAe1E,OAAf,CAAuB4E,KAAvB,EAAhC;AAAA,OAAX,EAA2E,CAA3E;AACD;;;6BAES;AACR,UAAMzB,YAAY,KAAKpH,KAAL,CAAW8I,OAAX,CAAmB1B,SAArC;;AAEA,WAAKpH,KAAL,CAAW+I,KAAX;;AAEAnH,+BAAOmB,UAAP,CAAkBiG,MAAlB,CAAyB5B,SAAzB;AACD;;;6BAES;AACR,WAAKpH,KAAL,CAAW+I,KAAX;AACD;;;6BAES;AAAA;;AACR,UAAM3B,YAAY,KAAKpH,KAAL,CAAW8I,OAAX,CAAmB1B,SAArC;;AAEA,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = Studio.libraries['react'];","module.exports = Studio;","import React from 'react'\r\n\r\nexport default (props = {}) => {\r\n  const onClick = props.onClick || ((href) => {\r\n    window.location.href = href\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <a target='_top' title='facebook' onClick={() => onClick('/login/facebook')} style={{ color: '#3b5998', marginRight: '0.5rem', cursor: 'pointer' }}><i className='fa fa-facebook-square fa-3x' /></a>\r\n      <a target='_top' title='twitter' onClick={() => onClick('/login/twitter')} style={{ color: '#2fc2ef', marginRight: '0.5rem', cursor: 'pointer' }}><i className='fa fa-twitter-square fa-3x' /></a>\r\n      <a target='_top' title='github' onClick={() => onClick('/login/github')} style={{ color: '#337ab7', marginRight: '0.5rem', cursor: 'pointer' }}><i className='fa fa-github fa-3x' /></a>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"workspacesTable\":\"x-playground-styles-workspacesTable\",\"tabs\":\"x-playground-styles-tabs\",\"selectedTab\":\"x-playground-styles-selectedTab\",\"searchBox\":\"x-playground-styles-searchBox\",\"newBox\":\"x-playground-styles-newBox\",\"contextMenu\":\"x-playground-styles-contextMenu\",\"contextMenuContainer\":\"x-playground-styles-contextMenuContainer\",\"contextButton\":\"x-playground-styles-contextButton\",\"code\":\"x-playground-styles-code\"};","import React, { Component } from 'react'\r\nimport Studio from 'jsreport-studio'\r\nimport styles from './styles.css'\r\n\r\nclass WorkspacesList extends Component {\r\n  constructor () {\r\n    super()\r\n    this.state = this.initialState()\r\n    this.tryHide = this.tryHide.bind(this)\r\n  }\r\n\r\n  initialState () {\r\n    return { items: [] }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.mounted = true\r\n    window.addEventListener('click', this.tryHide)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    this.mounted = false\r\n    window.removeEventListener('click', this.tryHide)\r\n  }\r\n\r\n  contextMenu (e, entity) {\r\n    e.preventDefault()\r\n    this.setState({ contextMenuId: entity._id })\r\n  }\r\n\r\n  tryHide (ev) {\r\n    if (this.state.contextMenuId) {\r\n      ev.preventDefault()\r\n      ev.stopPropagation()\r\n      this.setState({ contextMenuId: null })\r\n    }\r\n  }\r\n\r\n  onTabActive () {\r\n    this.fetch()\r\n  }\r\n\r\n  async fetch () {\r\n    if (this.fetchRequested) {\r\n      return\r\n    }\r\n\r\n    this.fetchRequested = true\r\n\r\n    let response\r\n\r\n    try {\r\n      response = await Studio.api.get(this.props.url)\r\n    } finally {\r\n      this.fetchRequested = false\r\n    }\r\n\r\n    if (this.mounted) {\r\n      this.setState({\r\n        items: response.items\r\n      })\r\n    }\r\n  }\r\n\r\n  openUser (e, u) {\r\n    if (!u) {\r\n      return\r\n    }\r\n\r\n    e.stopPropagation()\r\n    Studio.openTab({ key: 'playgroundUser' + u._id, editorComponentKey: 'playgroundUser', title: u.fullName, user: u })\r\n  }\r\n\r\n  renderContextMenu (w) {\r\n    const { onRemove } = this.props\r\n\r\n    return (\r\n      <div key='entity-contextmenu' className={styles.contextMenuContainer}>\r\n        <div className={styles.contextMenu}>\r\n          <div\r\n            className={styles.contextButton}\r\n            onClick={(e) => {\r\n              e.stopPropagation()\r\n              onRemove && onRemove(w)\r\n              this.tryHide(e)\r\n            }}\r\n          >\r\n            <i className='fa fa-trash' /> Delete\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderItem (w) {\r\n    const { contextMenuId } = this.state\r\n    const { editable } = this.props\r\n\r\n    let isOwner = false\r\n\r\n    if (Studio.playground.user && Studio.playground.user._id === w.userId) {\r\n      isOwner = true\r\n    }\r\n\r\n    return (\r\n      <tr\r\n        key={w._id}\r\n        onClick={() => contextMenuId == null && Studio.playground.open(w)}\r\n        onContextMenu={(e) => {\r\n          if (!isOwner) {\r\n            e.preventDefault()\r\n            return\r\n          }\r\n\r\n          this.contextMenu(e, w)\r\n        }}\r\n        title={w.description}\r\n      >\r\n        <td className='selection'>\r\n          {w.name}\r\n          {editable !== false && contextMenuId === w._id ? this.renderContextMenu(w) : null}\r\n        </td>\r\n        <td onClick={(e) => contextMenuId == null && this.openUser(e, w.user)} style={{ color: '#007ACC' }}>\r\n          {w.user ? w.user.fullName : ''}\r\n          {isOwner && <i className='fa fa-bolt' title='You are the owner of this workspace' />}\r\n        </td>\r\n        <td>{w.modificationDate.toLocaleDateString()}</td>\r\n        <td>{w.views || 0}<i className='fa fa-eye' /></td>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const { items } = this.state\r\n\r\n    return (\r\n      <table className={'table ' + styles.workspacesTable}>\r\n        <thead>\r\n          <tr>\r\n            <th>name</th>\r\n            <th>user</th>\r\n            <th>modified</th>\r\n            <th />\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.map((i) => this.renderItem(i))}\r\n        </tbody>\r\n      </table>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WorkspacesList\r\n","import React from 'react'\nimport Studio from 'jsreport-studio'\nimport Startup from './Startup'\nimport ToolbarSaveForkButton from './ToolbarSaveForkButton'\nimport LogoutButton from './LogoutButton.js'\nimport AboutModal from './AboutModal'\nimport LoginModal from './LoginModal.js'\nimport SaveModal from './SaveModal.js'\nimport ShareModal from './ShareModal.js'\nimport RenameModal from './RenameModal.js'\nimport Playground from './playground.js'\nimport UserEditor from './UserEditor.js'\nimport { getQueryParameter, removeFacebookQuery, trim } from './utils'\n\nStudio.setAboutModal(AboutModal)\n\nStudio.playground = Playground()\n\nStudio.locationResolver = () => {\n  if (Studio.playground.current.__isInitial) {\n    return '/'\n  }\n\n  return Studio.playground.current.user != null\n    ? `/w/${Studio.playground.current.user.username}/${Studio.playground.current.shortid}`\n    : `/w/anon/${Studio.playground.current.shortid}`\n}\n\nStudio.toolbarVisibilityResolver = (text) => {\n  return text === 'Run' || text === 'Run (full profile)' || text === 'Download' || text === 'settings'\n}\n\nremoveFacebookQuery()\nconst isEmbed = getQueryParameter('embed') != null\n\nStudio.shouldOpenStartupPage = false\nStudio.addEditorComponent('Help', Startup)\nStudio.addEditorComponent('playgroundUser', UserEditor)\n\nStudio.initializeListeners.push(async () => {\n  await Studio.playground.init()\n\n  if (Studio.playground.user) {\n    Studio.addToolbarComponent(() => (\n      <div className='toolbar-button'>\n        <span><i className='fa fa-user' /> {Studio.playground.user.fullName}</span>\n      </div>\n    ), 'settingsBottom')\n    Studio.addToolbarComponent(LogoutButton, 'settingsBottom')\n  } else {\n    Studio.addToolbarComponent(() => (\n      <div className='toolbar-button' onClick={() => Studio.openModal(LoginModal)}>\n        <span><i className='fa fa-sign-in' /> Login</span>\n      </div>\n    ), 'settingsBottom')\n  }\n})\n\nfunction save () {\n  if (Studio.playground.user || (!Studio.playground.current.__isInitial && Studio.playground.current.canEdit)) {\n    return Studio.playground.save()\n  }\n\n  Studio.openModal(SaveModal)\n}\n\nStudio.readyListeners.push(async () => {\n  if (!isEmbed) {\n    Studio.addToolbarComponent((props) => (\n      <ToolbarSaveForkButton\n        enabled={Studio.getAllEntities().some(e => e.__isDirty)}\n        canEdit={Studio.playground.current.__isInitial ? true : Studio.playground.current.canEdit}\n        save={save}\n      />\n    ))\n  }\n\n  Studio.addToolbarComponent((props) => (\n    <div\n      style={{ backgroundColor: '#E67E22', float: 'right' }}\n      className='toolbar-button'\n      onClick={() => {\n        if (!isEmbed) {\n          Studio.openModal(RenameModal)\n        }\n      }}\n    >\n      <i className={`fa fa-${!isEmbed ? 'pencil' : 'flag'}`} />\n      <h1 style={{ display: 'inline', fontSize: '1rem', color: '#FFFFFF' }}>\n        {Studio.playground.current.name ? trim(Studio.playground.current.name) : 'Untitled ...'}\n      </h1>\n    </div>\n  ), 'right')\n\n  if (!isEmbed) {\n    Studio.addToolbarComponent((props) => (\n      <div\n        className='toolbar-button'\n        style={{ backgroundColor: '#2ECC71' }}\n        onClick={() => Studio.openTab({ key: 'Help', editorComponentKey: 'Help', title: 'Home' })}\n      >\n        <i className='fa fa-home' />Home\n      </div>\n    ), 'right')\n\n    if (Studio.playground.user) {\n      Studio.addToolbarComponent((props) => (\n        <div className='toolbar-button'>\n          <i className='fa fa-user' />{Studio.playground.user.fullName}\n        </div>\n      ), 'right')\n    }\n\n    Studio.addToolbarComponent((props) => (\n      <div\n        className={`toolbar-button ${Studio.playground.current.name == null ? 'disabled' : ''}`}\n        onClick={() => {\n          if (Studio.playground.current.name) {\n            Studio.openModal(ShareModal)\n          }\n        }}\n      >\n        <i className='fa fa-share' />Share\n      </div>\n    ), 'right')\n  } else {\n    Studio.addToolbarComponent((props) => (\n      <div\n        className='toolbar-button'\n        onClick={() => (window.open(window.location.href.split('?')[0], '_blank'))}\n      >\n        <i className='fa fa-desktop' />Full\n      </div>\n    ), 'right')\n  }\n\n  if (isEmbed) {\n    Studio.collapseLeftPane()\n  } else {\n    Studio.openTab({ key: 'Help', editorComponentKey: 'Help', title: 'Home' })\n  }\n\n  if (Studio.playground.current.default) {\n    const entities = Studio.getAllEntities()\n    const defaultEntity = entities.find((e) => e.shortid === Studio.playground.current.default)\n\n    if (defaultEntity) {\n      Studio.collapseEntity({ _id: defaultEntity._id }, false, { parents: true, self: false })\n      Studio.openTab({ _id: defaultEntity._id })\n    }\n  }\n})\n","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\nimport login from './login.js'\nimport styles from './styles.css'\nimport debounce from 'lodash.debounce'\nimport DeleteWorkspaceModal from './DeleteWorkspaceModal'\nimport WorskpacesList from './WorkspacesList'\n\nclass Startup extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      tab: Studio.playground.user ? 'my' : 'examples',\n      searchTerm: ''\n    }\n\n    this.handleSearchChange = debounce(this.handleSearchChange.bind(this), 500)\n\n    this.examplesRef = React.createRef()\n    this.popularRef = React.createRef()\n    this.myRef = React.createRef()\n    this.searchRef = React.createRef()\n  }\n\n  handleSearchChange () {\n    this.reloadTab(this.state.tab)\n  }\n\n  handleRemove (w) {\n    Studio.openModal(DeleteWorkspaceModal, {\n      workspace: w\n    })\n  }\n\n  onTabActive () {\n    this.reloadTab(this.state.tab)\n  }\n\n  componentDidMount () {\n    Studio.playground.startupReload = () => {\n      this.reloadTab(this.state.tab)\n    }\n\n    this.reloadTab(this.state.tab)\n  }\n\n  componentWillUnmount () {\n    Studio.playground.startupReload = null\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.tab !== this.state.tab) {\n      this.reloadTab(this.state.tab)\n    }\n  }\n\n  reloadTab (tab) {\n    const ref = this[`${tab}Ref`]\n\n    if (ref && ref.current) {\n      ref.current.onTabActive()\n    }\n  }\n\n  renderPinnedExamples () {\n    return (\n      <div>\n        <WorskpacesList\n          ref={this.examplesRef}\n          key='examples'\n          url='/api/playground/workspaces/examples'\n          onRemove={this.handleRemove}\n        />\n      </div>\n    )\n  }\n\n  renderPopularWorkspaces () {\n    return (\n      <div>\n        <WorskpacesList\n          ref={this.popularRef}\n          key='popular'\n          url='/api/playground/workspaces/popular'\n          onRemove={this.handleRemove}\n        />\n      </div>\n    )\n  }\n\n  renderUserWorkspaces () {\n    return Studio.playground.user ? this.renderForUser() : this.renderForAnonym()\n  }\n\n  renderForUser () {\n    return (\n      <div>\n        <WorskpacesList\n          ref={this.myRef}\n          key='my'\n          url={`/api/playground/workspaces/user/${Studio.playground.user._id}`}\n          onRemove={this.handleRemove}\n        />\n      </div>\n    )\n  }\n\n  renderForAnonym () {\n    return (\n      <div>\n        {login()}\n      </div>\n    )\n  }\n\n  renderSearch () {\n    const { searchTerm } = this.state\n\n    return (\n      <div>\n        <div className={styles.searchBox}>\n          <label>search for a workspace...</label>\n          <input\n            type='text'\n            value={searchTerm}\n            onChange={(ev) => this.setState({ searchTerm: ev.target.value })}\n            onKeyUp={this.handleSearchChange}\n          />\n        </div>\n        <div>\n          <WorskpacesList\n            ref={this.searchRef}\n            url={`/api/playground/search?q=${encodeURIComponent(searchTerm != null ? searchTerm : '')}`}\n            editable={false}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  renderTab () {\n    switch (this.state.tab) {\n      case 'examples': return <div>{this.renderPinnedExamples()}</div>\n      case 'my': return <div>{this.renderUserWorkspaces()}</div>\n      case 'popular': return <div>{this.renderPopularWorkspaces()}</div>\n      case 'search': return <div>{this.renderSearch()}</div>\n    }\n  }\n\n  render () {\n    return (\n      <div className='custom-editor block'>\n        <div>\n          {Studio.playground.user ? <h2>welcome <b>{Studio.playground.user.fullName}</b></h2> : ''}\n        </div>\n        <div className={styles.newBox}>\n          Start by creating a new workspace\n          <button\n            className='button confirmation'\n            onClick={() => Studio.playground.create()}\n            title='create template in new workspace'\n          >\n            <i className='fa fa-plus-square' />\n          </button>\n        </div>\n        <div className={styles.tabs}>\n          <div className={this.state.tab === 'examples' ? styles.selectedTab : ''} onClick={() => this.setState({ tab: 'examples' })}>Examples</div>\n          <div className={this.state.tab === 'my' ? styles.selectedTab : ''} onClick={() => this.setState({ tab: 'my' })}>My workspaces</div>\n          <div className={this.state.tab === 'popular' ? styles.selectedTab : ''} onClick={() => this.setState({ tab: 'popular' })}>Popular workspaces</div>\n          <div className={this.state.tab === 'search' ? styles.selectedTab : ''} onClick={() => this.setState({ tab: 'search' })}><i className='fa fa-search' /> Search</div>\n        </div>\n        <div className='block-item' style={{ overflow: 'auto' }}>\n          {this.renderTab()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Startup\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\n\nclass DeleteWorkspaceModal extends Component {\n  constructor (props) {\n    super(props)\n\n    this.cancelRef = React.createRef()\n  }\n\n  componentDidMount () {\n    setTimeout(() => this.cancelRef.current && this.cancelRef.current.focus(), 0)\n  }\n\n  remove () {\n    const workspace = this.props.options.workspace\n\n    this.props.close()\n\n    Studio.playground.remove(workspace)\n  }\n\n  cancel () {\n    this.props.close()\n  }\n\n  render () {\n    const workspace = this.props.options.workspace\n\n    return (\n      <div>\n        <div>Are you sure you want to delete workspace <b>{workspace.name}</b>?</div>\n\n        <p>\n          <small>\n            <i>*This action is irreversible and all examples and links to this workspace will stop working</i>\n          </small>\n        </p>\n\n        <div className='button-bar'>\n          <button className='button danger' onClick={() => this.remove()}>Yes</button>\n          <button className='button confirmation' ref={this.cancelRef} onClick={() => this.cancel()}>Cancel</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DeleteWorkspaceModal\n","import React, { Component } from 'react'\n\nconst isMac = () => window.navigator.platform.toUpperCase().indexOf('MAC') >= 0\n\nclass ToolbarSaveForkButton extends Component {\n  constructor (props) {\n    super(props)\n    this.handleShortcut = this.handleShortcut.bind(this)\n  }\n\n  componentDidMount () {\n    window.addEventListener('keydown', this.handleShortcut)\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keydown', this.handleShortcut)\n  }\n\n  handleShortcut (e) {\n    if (\n      // ctrl + s\n      (e.ctrlKey && e.which === 83) ||\n      // handles CMD + S on Mac\n      (isMac() && e.metaKey && e.which === 83)\n    ) {\n      e.preventDefault()\n\n      if (this.props.save) {\n        this.props.save()\n        return false\n      }\n    }\n  }\n\n  render () {\n    const { save, canEdit, enabled } = this.props\n\n    return (\n      <div\n        className={'toolbar-button ' + (!enabled && canEdit ? 'disabled' : '')} onClick={() => save()}\n      >\n        {canEdit\n          ? <span title='Save workspace (CTRL+S)'><i className='fa fa-floppy-o' /> Save</span>\n          : <span title='Fork workspace'><i className='fa fa-clone' /> Fork</span>}\n      </div>\n    )\n  }\n}\n\nexport default ToolbarSaveForkButton\n","import React, { Component } from 'react'\r\nimport Studio from 'jsreport-studio'\r\n\r\nclass LogoutButton extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.logoutRef = React.createRef()\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div onClick={() => this.logoutRef.current.click()} style={{ cursor: 'pointer' }}>\r\n        <div>\r\n          <form method='POST' action={Studio.resolveUrl('/logout')}>\r\n            <input ref={this.logoutRef} type='submit' id='logoutBtn' style={{ display: 'none' }} />\r\n          </form>\r\n          <i className='fa fa-power-off' /> Logout\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LogoutButton\r\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst logo = 'data:image/png;base64,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'\n\nclass AboutModal extends Component {\n  render () {\n    const { version, extensions } = this.props.options\n    const playgroundVersion = extensions.playground.options.version\n\n    return (\n      <div>\n        <h2>About</h2>\n        <div>\n          <img src={logo} style={{ width: '100px', height: 'auto', marginBottom: '15px' }} />\n        </div>\n        <div>\n          playground version: <b>{playgroundVersion}</b>\n        </div>\n        <div>\n          jsreport version: <b>{version}</b>\n        </div>\n        <br />\n        <br />\n        <div>\n          See more information about the playground release in the release notes\n        </div>\n        <br />\n        <div>\n          <a\n            className='button confirmation'\n            href={`https://github.com/jsreport/playground/releases/tag/${playgroundVersion}`}\n            target='_blank'\n            rel='noreferrer'\n            style={{ marginLeft: 0 }}\n          >\n            Release notes\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nAboutModal.propTypes = {\n  options: PropTypes.object.isRequired\n}\n\nexport default AboutModal\n","module.exports = Studio.libraries['prop-types'];","import React from 'react'\r\nimport login from './login.js'\r\n\r\nexport default function () {\r\n  return (\r\n    <div>\r\n      <h3>login</h3>\r\n      <div>\r\n        {login()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport login from './login.js'\r\nimport Studio from 'jsreport-studio'\r\n\r\nexport default class SaveModal extends Component {\r\n  async save (href) {\r\n    await Studio.playground.save()\r\n    this.props.close()\r\n\r\n    if (href) {\r\n      window.location.href = href\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <h3>save to your account</h3>\r\n        <p>You will be able to come back anytime and find it.</p>\r\n        <div>\r\n          {login({ onClick: (href) => this.save(href) })}\r\n        </div>\r\n        <h3 style={{ marginTop: '2rem' }}>save as anonym</h3>\r\n        <p>Not so cool but quick</p>\r\n        <div>\r\n          <button className='button confirmation' style={{ float: 'left', marginLeft: 0 }} onClick={() => this.save()}>\r\n            <i className='fa fa-floppy' /> Save as anonym\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\nimport styles from './styles.css'\n\nclass ShareModal extends Component {\n  render () {\n    return (\n      <div style={{ padding: '1.5rem' }}>\n        <h3>simple link</h3>\n        <p>\n          You can just copy paste browser url to share the playground workspace:\n          <br />\n          <a href={window.location.href}>{window.location.href}</a>\n        </p>\n        <h3>embed into website</h3>\n        <p>\n          If you want embed playground into another page, you can use this html code:\n          <br />\n          <code className={styles.code}>\n            &lt;iframe src=&quot;{window.location.href}?embed=1&quot; width=&quot;100%&quot; height=&quot;400&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;\n          </code>\n        </p>\n      </div>\n    )\n  }\n}\n\nexport default ShareModal\n","import React, { Component } from 'react'\r\nimport Studio from 'jsreport-studio'\r\n\r\nclass RenameModal extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = { default: Studio.playground.current.default }\r\n    this.nameRef = React.createRef()\r\n    this.descriptionRef = React.createRef()\r\n  }\r\n\r\n  change (event) {\r\n    this.setState({ default: event.target.value })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <div className='form-group'>\r\n          <label>workspace name</label>\r\n          <input type='text' ref={this.nameRef} defaultValue={Studio.playground.current.name || ''} />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>description</label>\r\n          <textarea ref={this.descriptionRef} rows='4' defaultValue={Studio.playground.current.description || ''} />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>default entity</label>\r\n          <select\r\n            value={this.state.default != null ? this.state.default : ''} onChange={(e) => this.change(e)}\r\n          >\r\n            {[<option key='<default>' value=''>{'<none>'}</option>].concat(Studio.getAllEntities().filter((e) => e.__entitySet !== 'folders').map((e) => (\r\n              <option key={e._id} value={e.shortid}>{e.name + ' (' + e.__entitySet + ')'}</option>\r\n            )))}\r\n          </select>\r\n        </div>\r\n        <div className='button-bar'>\r\n          <button\r\n            className='button confirmation'\r\n            onClick={async () => {\r\n              Studio.playground.current.name = this.nameRef.current.value\r\n              Studio.playground.current.description = this.descriptionRef.current.value\r\n              Studio.playground.current.default = this.state.default\r\n\r\n              if (Studio.playground.current._id || Studio.playground.current.__isInitial) {\r\n                await Studio.playground.save()\r\n              }\r\n\r\n              this.props.close()\r\n            }}\r\n          >\r\n            save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RenameModal\r\n","\r\nimport Studio from 'jsreport-studio'\r\n\r\nfunction updateTitle (workspaceName) {\r\n  document.title = workspaceName || 'jsreport playground'\r\n}\r\n\r\nexport default () => ({\r\n  async init () {\r\n    this.user = await Studio.api.get('api/playground/user')\r\n    this.current = await Studio.api.get('api/playground/workspace')\r\n  },\r\n\r\n  async save () {\r\n    if (this.lock) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      updateTitle(this.current.name)\r\n\r\n      await Studio.store.dispatch(Studio.entities.actions.flushUpdates())\r\n\r\n      this.lock = true\r\n\r\n      const isNewWorkspace = this.current.__isInitial === true\r\n      const shouldInvokeSave = this.current.canEdit === true\r\n      const entities = Studio.getAllEntities().filter((e) => e.__isLoaded).map((e) => Studio.entities.actions.prune(e))\r\n\r\n      this.current = await Studio.api.post('/api/playground/workspace', {\r\n        data: {\r\n          workspace: {\r\n            name: 'untitled',\r\n            ...this.current\r\n          },\r\n          entities\r\n        }\r\n      })\r\n\r\n      await Studio.store.dispatch(Studio.editor.actions.updateHistory())\r\n\r\n      if (shouldInvokeSave) {\r\n        await Studio.store.dispatch(Studio.editor.actions.saveAll())\r\n        this.current = await Studio.api.get('api/playground/workspace')\r\n      } else {\r\n        if (isNewWorkspace) {\r\n          await Studio.store.dispatch(Studio.editor.actions.saveAll())\r\n        }\r\n\r\n        await this.open(this.current)\r\n      }\r\n\r\n      if (this.startupReload) {\r\n        this.startupReload()\r\n      }\r\n    } finally {\r\n      this.lock = false\r\n    }\r\n  },\r\n\r\n  async open (w) {\r\n    updateTitle(w.name)\r\n\r\n    this.current = w\r\n\r\n    await Studio.store.dispatch(Studio.editor.actions.updateHistory())\r\n\r\n    this.current = await Studio.api.get('api/playground/workspace')\r\n\r\n    await Studio.reset()\r\n\r\n    Studio.openTab({ key: 'Help', editorComponentKey: 'Help', title: 'Home' })\r\n\r\n    if (Studio.playground.current.default) {\r\n      const entities = Studio.getAllEntities().filter((e) => e.__entitySet !== 'folders')\r\n      const defaultEntity = entities.find((e) => e.shortid === Studio.playground.current.default)\r\n\r\n      if (defaultEntity) {\r\n        Studio.collapseEntity({ _id: defaultEntity._id }, false, { parents: true, self: false })\r\n        Studio.openTab({ _id: defaultEntity._id })\r\n      }\r\n    }\r\n  },\r\n\r\n  async create () {\r\n    updateTitle(null)\r\n    this.current = { canEdit: true, __isInitial: true }\r\n    await Studio.reset()\r\n    Studio.openTab({ key: 'Help', editorComponentKey: 'Help', title: 'Home' })\r\n    Studio.openNewModal('templates')\r\n  },\r\n\r\n  async remove (w) {\r\n    const wid = w._id\r\n\r\n    await Studio.api.del(`api/playground/workspaces/${wid}/remove`)\r\n\r\n    if (w._id === this.current._id) {\r\n      this.current = { canEdit: true, __isInitial: true }\r\n      updateTitle(null)\r\n      await Studio.reset()\r\n      this.current = await Studio.api.get('api/playground/workspace')\r\n      Studio.openTab({ key: 'Help', editorComponentKey: 'Help', title: 'Home' })\r\n    }\r\n\r\n    if (this.startupReload) {\r\n      this.startupReload()\r\n    }\r\n  }\r\n})\r\n","import React, { Component } from 'react'\r\nimport WorskpacesList from './WorkspacesList'\r\n\r\nclass UserEditor extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.workspacesRef = React.createRef()\r\n  }\r\n\r\n  reloadTab () {\r\n    if (this.workspacesRef.current) {\r\n      this.workspacesRef.current.onTabActive()\r\n    }\r\n  }\r\n\r\n  onTabActive () {\r\n    this.reloadTab()\r\n  }\r\n\r\n  render () {\r\n    const { user } = this.props.tab\r\n\r\n    return (\r\n      <div className='custom-editor block'>\r\n        <div>\r\n          <h2>{user.fullName}</h2>\r\n        </div>\r\n        <div>\r\n          <WorskpacesList ref={this.workspacesRef} url={`/api/playground/workspaces/user/${user._id}`} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserEditor\r\n","export function getQueryParameter (name) {\r\n  const match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search)\r\n  return match && decodeURIComponent(match[1].replace(/\\+/g, ' '))\r\n}\r\n\r\nexport function removeFacebookQuery () {\r\n  if (window.location.hash === '#_=_') {\r\n    history.replaceState\r\n      ? history.replaceState(null, null, window.location.href.split('#')[0])\r\n      : window.location.hash = ''\r\n  }\r\n}\r\n\r\nexport function trim (str) {\r\n  if (str.length > 30) {\r\n    return str.substring(0, 25) + ' ...'\r\n  }\r\n  return str\r\n}\r\n"],"sourceRoot":""}